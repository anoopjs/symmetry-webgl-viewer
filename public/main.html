<!DOCTYPE html>
<head>
<meta charset="utf-8">
<title>Computer Graphics e0275</title>
<style>
* {
margin : 0px;
padding : 0px;
}
html {
height : 100%;
font-family : Georgia;
}
body {
background : black;
width : 1200px;
height : 100%;
position : relative;
}
canvas {
background : black;
float : right;
}
#sidebar {
background : grey;
display : block;
float : left;
height : 100%;
width : 200px;
top : 0px;
right : 0px;
}
.clearfix {
clear : both;
}
#clusters {
//padding : 20px;
}
#clusters { 
    display: block;
    list-style-type: none;
//    margin-top: 1em;
    margin-bottom: 1 em;
    margin-left: 0;
    margin-right: 0;
    padding-left: 20px;
}
#clusters input {
margin-right : 20px;
}
#clusters li {
height : 30px;
}
#slider {
width : 100px;
margin-left : 20px;
margin-top : 20px;
margin-bottom : 0px;
}
#slider1 {
padding : 10px;
}
</style>

<script type='text/javascript' src='js/gl-matrix-min.js'></script>
<script type='text/javascript' src='js/jquery.js'></script>
<script type='text/javascript' src='js/utils.js'></script>
<script type='text/javascript' src='js/Camera.js'></script>
<script type='text/javascript' src='js/CameraInteractor.js'></script>
<script id="shader-fs" type="x-shader/x-fragment">
#ifdef GL_ES
precision highp float;
#endif

uniform float uShininess;       
uniform vec4 uLightAmbient;     
uniform vec4 uLightDiffuse;     
uniform vec4 uMaterialDiffuse;  
uniform float uTransparency;
varying vec3 vNormal;
varying vec3 vLightDir;
varying vec3 vEyeVec;
varying vec4 vColor;

void main(void)
{
 vec3 L = normalize(vLightDir);
 vec3 N = normalize(vNormal);
 
 float lambertTerm = dot(N,-L);
 
 vec4 Ia = uLightAmbient;
 
 vec4 Id = vec4(0.0,0.0,0.0,0.0);
 
 vec4 Is = vec4(0.0,0.0,0.0,0.0);

 if(lambertTerm < 0.0)
  lambertTerm = -lambertTerm;

 if(lambertTerm > 0.0)
 {
//  Id = uMaterialDiffuse * lambertTerm;
    Id = vColor * lambertTerm;
  
  vec3 E = normalize(vEyeVec);
  vec3 R = reflect(L, N);
  float specular = pow( max(dot(R, E), 0.0), uShininess);
  
  Is = uLightDiffuse * specular; 
 }
 
 vec4 finalColor = Ia + Id + Is;
// finalColor.a = 1.0;
 
 gl_FragColor = vec4(finalColor.x, finalColor.y, finalColor.z, uTransparency);
// gl_FragColor = finalColor;
}
</script>

<script id="shader-vs" type="x-shader/x-vertex">
attribute vec3 aVertexPosition;
attribute vec3 aVertexNormal;
attribute vec4 aVertexColor;

uniform mat4 uMVMatrix; 
uniform mat4 uPMatrix; 
uniform mat4 uNMatrix; 

uniform vec3 uLightPosition;

varying vec3 vNormal;
varying vec3 vLightDir;
varying vec3 vEyeVec;
varying vec4 vColor;

void main(void) {

 vec4 vertex = uMVMatrix * vec4(aVertexPosition, 1.0);
 
 vNormal = vec3(uNMatrix * vec4(aVertexNormal, 0.0));

 vLightDir = vertex.xyz - uLightPosition;
 
 vEyeVec = -vec3(vertex.xyz);

 vColor = aVertexColor;

 gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);
 
}
</script>


<script type="text/javascript" src="script.js">
</script>
</head>
<body onload="start()">
<canvas id="canvas-element-id" width="800px" height="800px"></canvas>
<div id="sidebar" width="300px" height="100%"display="block">
<div id="slider">
<label>Transparency</label>
<input id="slider1" type ="range" min ="0.0" max="1.0" step ="0.05"/>
</div>
<ul id="clusters" width = "200px" display="block">
</div>
<div class="clearfix"></div>
</div>
</body>
</html>

